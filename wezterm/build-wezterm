;;/usr/bin/fennel
;; build fennel file in wezterm directiory
(local target-dir "~/.config/wezterm")
(local file-list [:wezterm :launch-menu :keybinds :key-tables])

(local compile "fennel -c ")

(each [i file (ipairs file-list)]
  (let [fnl-file (.. file :.fnl)
        lua-file (.. file :.lua)]
    (do
      (print (.. "Compiling: " fnl-file " > " lua-file))
      (os.execute (.. compile fnl-file " > " lua-file)))))
